(()=>{var e={76:(e,t,s)=>{var n=s(17),r=s(781),i=s(837),o=s(147);function a(e,t){var s;for(s in a.super_.call(this,t),this.lastSize=null,this.bytesRead=0,this.watching=!1,this.path=n.resolve(e),this.buffer=new Buffer(16384),this.opts={beginAt:0,detectTruncate:!0,onMove:"follow",onTruncate:"end",endOnError:!1,useWatch:!!o.watch,waitForCreate:!1},t)this.opts[s]=t[s];this._start=function(){this.firstRead=!0,this.waitingForReappear=!1;try{this.fd=o.openSync(this.path,"r"),this.dataAvailable=!0}catch(e){if(!t.waitForCreate)throw e;this.fd=null,this.dataAvailable=!1,this.waitForFileToReappear()}},this.getCurrentPath=function(e){if(e&&!o.existsSync("/proc"))return e;try{return o.readlinkSync("/proc/self/fd/"+this.fd)}catch(t){return e||null}},this.waitForFileToReappear=function(){this.opts.useWatch&&(this.watcher&&this.watcher.close&&this.watcher.close(),this.watcher=null),null!==this.fd&&o.close(this.fd,(function(){this.fd=null})),this.waitingForReappear=!0,this.waitForMoreData(!0)},this.fileReappeared=function(){try{this.fd=o.openSync(this.path,"r")}catch(e){return}this.waitingForReappear=!1,this.opts.useWatch&&(o.unwatchFile(this.path,this.watchFileCallback),this.watcher=null,this.waitForMoreData()),this.emit("replace"),this.lastSize=null,this.bytesRead=0},this.move=function(e){var t=this.path?n.resolve(this.path):null;return"end"==this.opts.onMove?(this.path=e,void this.emit("end")):"error"==this.opts.onMove?(this.path=e,void this.error("File move detected")):void("stay"==this.opts.onMove?(this.emit("move",t,e),this.waitForFileToReappear()):(this.path=e,this.emit("move",t,e),!0===this.watcher&&(o.unwatchFile(t,this.watchFileCallback),this.watcher=!1,this.waitForMoreData())))},this.waitForMoreData=function(e){this.watcher||(this.opts.useWatch&&!e?this.watcher=o.watch(this.path,{persistent:!0},function(e,t){if("change"===e)this.dataAvailable=!0,this.read(0);else if("rename"===e){var s=this.getCurrentPath(t);this.move(s)}}.bind(this)):this.watcher=o.watch(n.dirname(this.path),{persistent:!0},function(e,t){t&&n.basename(this.path)===t&&this.fileReappeared()}.bind(this)))},this.error=function(e,t){this.opts.endOnError?this.end(t):this.emit("error",e)},this.watchFileCallback=function(e,t){if(!e.dev&&!e.ino){if(this.waitingForReappear)return;var s=this.getCurrentPath();if(!s)return void this.error("File was deleted","EBADF");this.move(s)}this.waitingForReappear&&this.fileReappeared(),e.mtime.getTime()>t.mtime.getTime()&&(this.dataAvailable=!0,this.read(0))}.bind(this),this.end=function(e){"EBADF"!=e&&this.fd&&(o.close(this.fd,(function(){this.fd=null})),this.fd=null),this.push(null),!0===this.watcher?o.unwatchFile(this.path,this.watchFileCallback):this.watcher&&this.watcher.close&&this.watcher.close()},this._read=function(e){return this.dataAvailable?this.path?void(this.opts.detectTruncate||this.firstRead&&"end"==this.opts.beginAt?o.stat(this.path,this._readCont.bind(this)):this._readCont()):this._readCont():this.push("")},this._readCont=function(e,t){if(e&&("ENOENT"==e.code?"follow"!==this.opts.onMove&&this.error("File deleted",e.code):this.error("Error during truncate detection: "+e,e.code),t=null),t){if(this.firstRead&&"end"==this.opts.beginAt)return this.bytesRead=t.size,this.dataAvailable=!1,this.waitForMoreData(),this.push(""),void(this.firstRead=!1);if(this.lastSize){if(t.size<this.lastSize){if(this.emit("truncate",t.size,this.lastSize),"reset"!=this.opts.onTruncate)return void this.end();this.bytesRead=0}}else this.lastSize=t.size;this.lastSize=t.size}if(this.firstRead&&(parseInt(this.opts.beginAt)>0&&(this.bytesRead=parseInt(this.opts.beginAt)),this.firstRead=!1),!this.fd)return!1;o.read(this.fd,this.buffer,0,this.buffer.length,this.bytesRead,function(e,t,s){if(e){if(this.opts.endOnError)return void this.end(e.code);this.waitForMoreData(),this.push(""),this.emit("error",e)}if(0===t)return this.dataAvailable=!1,this.waitForMoreData(),this.push(""),void this.emit("eof");this.bytesRead+=t,this.push(this.buffer.slice(0,t))}.bind(this))},this._start()}i.inherits(a,r.Readable),e.exports=ts={createReadStream:function(e,t){return new a(e,t)}}},418:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GDB=t.SCOPE_LOCAL=t.EVENT_SOLIB_LOADED=t.EVENT_THREAD_NEW=t.EVENT_ERROR_FATAL=t.EVENT_ERROR=t.EVENT_PAUSED=t.EVENT_SIGNAL=t.EVENT_EXITED_NORMALLY=t.EVENT_FUNCTION_FINISHED=t.EVENT_END_STEPPING_RANGE=t.EVENT_BREAKPOINT_HIT=t.EVENT_RUNNING=t.EVENT_OUTPUT=void 0;const n=s(897),r=s(361),i=s(722),o=s(669),a=s(849),u=s(420),h=s(496),d=s(147),c=s(76),l=s(17),p=s(81),g=s(263);t.EVENT_OUTPUT="output",t.EVENT_RUNNING="running",t.EVENT_BREAKPOINT_HIT="breakpoint-hit",t.EVENT_END_STEPPING_RANGE="end-stepping-range",t.EVENT_FUNCTION_FINISHED="function-finished",t.EVENT_EXITED_NORMALLY="exited-normally",t.EVENT_SIGNAL="signal-received",t.EVENT_PAUSED="paused",t.EVENT_ERROR="error",t.EVENT_ERROR_FATAL="error-fatal",t.EVENT_THREAD_NEW="thread-created",t.EVENT_SOLIB_LOADED="library-loaded",t.SCOPE_LOCAL=1e3;class m{}class b extends m{constructor(e,t){super(),this.terminal=t,this.sendCommand("clear"),this.sendCommand(e),this.terminal.show(!0)}sendCommand(e){this.terminal.sendText(e)}destroy(){}}class f extends m{constructor(e){super(),this.terminal=(0,p.spawn)("x-terminal-emulator",["-e",e]),this.terminal.on("error",(()=>{console.log("Failed to open external terminal")}))}sendCommand(e){this.terminal.stdin.write(e+"\n")}destroy(){this.terminal.kill()}}class v extends r.EventEmitter{constructor(e){super(),this.path="gdb",this.args=["--interpreter=mi","-q","--tty=`tty`"],this.debug=g.DebugLoggingLevel.OFF,this.inputFile="",this.outputFile="",this.PID=0,this.handleSIGINT=!0,this.sharedLibraries=[],this.useAbsoluteFilePaths=!0,this.outputChannel=e,this.token=0,this.threadID=0,this.ob="",this.handlers=[],this.parser=new n.MIParser,this.createIOPipes()}createIOPipes(){this.inputFile=this.generateTmpFile("In")+this.token,this.outputFile=this.generateTmpFile("Out")+this.token;const e=`mkfifo ${this.inputFile} ;`,{exec:t}=s(81);t(e)}log(e){this.debug!==g.DebugLoggingLevel.OFF&&this.outputChannel.appendLine(e)}genRandomID(e){let t="";const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=s.length;for(let r=0;r<e;r++)t+=s.charAt(Math.floor(Math.random()*n));return t}generateTmpFile(e){return`/tmp/vGDB_${e}${this.genRandomID(8)}`}createLaunchCommand(){return d.writeFile(this.outputFile,"",(()=>{})),`trap '' 2 ; ${this.path} ${this.args.join(" ")} < ${this.inputFile} > ${this.outputFile} & clear ; pid=$!; set +m ; wait $pid ; trap 2 ; echo ;`}setDebug(e){this.debug=e}isLaunch(e){return e&&"string"==typeof e.program}spawn(e,t){return new Promise(((s,n)=>{let r;e.debugger&&(this.path=e.debugger),void 0!==e.useAbsoluteFilePaths&&(this.useAbsoluteFilePaths=e.useAbsoluteFilePaths),this.isLaunch(e)?(e.args?(this.args.push("--args"),this.args.push(e.program),this.args=this.args.concat(e.args)):this.args.push(e.program),e.envVars&&(r=this.createEnvVarsCmd(e.envVars))):this.PID=e.program;const i=this.createLaunchCommand();this.log(i),r&&this.terminal&&this.terminal.sendCommand(r),void 0!==e.externalConsole&&e.externalConsole?this.terminal=new f(`bash -c "${i}"`):this.terminal=new b(`bash -c "${i}"`,t),this.inputHandle=d.createWriteStream(this.inputFile,{flags:"a"}),this.outputHandle=c.createReadStream(this.outputFile),this.outputHandle.on("data",(e=>{this.stdoutHandler(e)})),this.inputHandle.on("open",(()=>{const t=[];this.isLaunch(e)&&e.startupCmds&&e.startupCmds.forEach((e=>{t.push(this.sendCommand(e))})),Promise.all(t).then((e=>{s(!0)}))}))}))}sendCommand(e){return new Promise(((t,s)=>{const n=++this.token;e=n+e,this.log(e),this.inputHandle.write(e+"\n"),this.handlers[n]=e=>{this.log(e.prettyPrint()),t(e)}}))}deferLibraryLoading(e){return this.sharedLibraries=e,console.log(this.sharedLibraries),this.sendCommand("-gdb-set auto-solib-add off")}sanitize(e,t){return e=(e||"").replace(/&"/g,"").replace(/\\n/g,"").replace(/\\r/g,"").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\"/g,'"').replace(/\\'/g,"'").replace(/\\\\/g,"\\"),t&&(e=e.replace(/^~"[0-9]*/g,"").replace(/"$/g,"")),e}createEnvVarsCmd(e){return""}stdoutHandler(e){let s;const n=e.toString("utf8");this.ob+=n;const r=this.ob.lastIndexOf("\n");if(-1!==r){this.ob=this.ob.substr(0,r);const e=this.ob.substr(0,r).split("\n");this.ob=this.ob.substring(r+1),e.forEach((e=>{try{(s=this.parser.parse(e))&&(this.handleParsedResult(s),s.constructor!==a.StreamRecord&&this.debug!==g.DebugLoggingLevel.VERBOSE||this.emit(t.EVENT_OUTPUT,this.sanitize(s.prettyPrint(),!0)))}catch(e){this.log(e.stack),console.log(e.stack),this.emit(t.EVENT_ERROR_FATAL)}}))}}handleParsedResult(e){switch(e.constructor){case i.AsyncRecord:switch(e.getType()){case i.AsyncRecordType.EXEC:switch(e.getClass()){case n.STOPPED:{this.threadID=parseInt(e.getResult("thread-id"));const s=e.getResult("reason");if(void 0!==s)switch(s){case t.EVENT_BREAKPOINT_HIT:case t.EVENT_END_STEPPING_RANGE:this.emit(s,this.threadID);break;case t.EVENT_FUNCTION_FINISHED:this.emit(t.EVENT_FUNCTION_FINISHED,this.threadID);break;case t.EVENT_EXITED_NORMALLY:this.sendCommand("quit"),this.emit(s);break;case t.EVENT_SIGNAL:this.handleSIGINT?this.emit(s,this.threadID):this.handleSIGINT=!0;break;default:throw new Error("unknown stop reason: "+s)}break}case n.RUNNING:{let s,n;this.threadID=-1,n=!1,s=parseInt(e.getResult("thread-id")),isNaN(s)&&(s=this.threadID,n=!0),this.emit(t.EVENT_RUNNING,this.threadID,n);break}}break;case i.AsyncRecordType.NOTIFY:if(e.getClass()===t.EVENT_THREAD_NEW)this.emit(t.EVENT_THREAD_NEW,e.getResult("id"));else if(this.sharedLibraries.length&&e.getClass()===t.EVENT_SOLIB_LOADED){const t=l.basename(e.getResult("id"));this.sharedLibraries.indexOf(t)>-1&&(this.log(`Loading ${t}`),this.sendCommand(`sharedlibrary ${t}`))}case i.AsyncRecordType.STATUS:}break;case o.ResultRecord:if(!isNaN(e.getToken())){const t=this.handlers[e.getToken()];t&&(t(e),delete this.handlers[e.getToken()])}case a.StreamRecord:}}clearBreakpoints(){return this.sendCommand("-break-delete")}setBreakpoints(e,t){return new Promise(((s,n)=>{const r=[],i=[];t?(t.forEach((t=>{this.useAbsoluteFilePaths||(e=l.basename(e));let s=this.sendCommand(`-break-insert -f ${e}:${t.line}`);r.push(s),s.then((e=>{const n=e.getResult("bkpt");t.condition?(s=this.sendCommand(`-break-condition ${n.number} ${t.condition}`),s.then((e=>{i.push(new u.Breakpoint(!0,n.line))}))):i.push(new u.Breakpoint(!0,n.line))}))})),Promise.all(r).then((e=>{s(i)}))):s([])}))}startInferior(){return new Promise(((e,t)=>{this.sendCommand("-gdb-set target-async on").then((()=>this.sendCommand("-exec-run").then((()=>{h.commands.executeCommand("workbench.action.terminal.clear").then((()=>{e(!0)}))}))))}))}attachInferior(){return new Promise(((e,t)=>{this.sendCommand("-gdb-set target-async on").then((()=>{this.sendCommand(`attach ${this.PID}`).then((()=>this.sendCommand("-exec-continue").then((()=>{e(!0)}))))}))}))}evaluateExpr(e,t){return new Promise(((s,n)=>{let r="-data-evaluate-expression";t&&(r+=` --frame ${t=t-this.threadID+1} --thread ${this.threadID}`),r+=` "${e}"`,this.sendCommand(r).then((e=>{s(this.sanitize(e.getResult("value"),!1))}))}))}execUserCmd(e,s){return new Promise(((r,i)=>{let o="-interpreter-exec";s&&(o+=` --frame ${s=s-this.threadID+1} --thread ${this.threadID}`),o+=` console "${e}"`,this.sendCommand(o).then((e=>{e.getClass()===n.ERROR&&this.emit(t.EVENT_ERROR,e.getResult("msg").replace(/\\/g,"")),r(e.getResult("value"))})),"up"!==e&&"down"!==e||(this.emit(t.EVENT_RUNNING,this.threadID,!0),this.emit(t.EVENT_PAUSED))}))}getThreads(){return new Promise(((e,t)=>{this.sendCommand("-thread-info").then((t=>{const s=[],n=t.getResult("threads");for(let e=0,t=n.length;e<t;e++){const t=new u.Thread(parseInt(n[e].id),n[e].name);s.push(t)}e(s)}))}))}isStopped(){return-1!==this.threadID}getStack(e){return new Promise(((t,s)=>{this.sendCommand(`-stack-list-frames --thread ${e}`).then((s=>{const n=[];s.getResult("stack").forEach((t=>{t=t[1],n.push(new u.StackFrame(e+parseInt(t.level),t.func,new u.Source(t.file,t.fullname),parseInt(t.line)))})),t(n)}))}))}getVars(e){return new Promise(((t,s)=>{this.sendCommand(`-stack-list-variables --thread ${this.threadID} --frame ${e-this.threadID} --all-values`).then((e=>{t(e.getResult("variables"))}))}))}next(e){return this.sendCommand(`-exec-next --thread ${e}`)}continue(e){return e?this.sendCommand(`-exec-continue --thread ${e}`):this.sendCommand("-exec-continue")}stepIn(e){return this.sendCommand(`-exec-step --thread ${e}`)}stepOut(e){return this.sendCommand(`-exec-finish --thread ${e}`)}pause(e,t){return void 0===t||t||(this.handleSIGINT=!1),this.sendCommand(`-exec-interrupt ${e||""}`)}quit(e){return new Promise(((t,s)=>(e&&this.sendCommand("detach"),this.dispose(),this.sendCommand("-gdb-exit"))))}updateVar(e,t){return this.sendCommand(`set var ${e} = ${t}`)}dispose(){this.terminal&&this.terminal.destroy()}}t.GDB=v},263:function(e,t,s){"use strict";var n=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))((function(r,i){function o(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GDBDebugSession=t.DebugLoggingLevel=void 0;const r=s(420),i=s(418),o=s(496);var a;!function(e){e.OFF="off",e.BASIC="basic",e.VERBOSE="verbose"}(a=t.DebugLoggingLevel||(t.DebugLoggingLevel={}));class u extends r.LoggingDebugSession{constructor(e,t){super(),this.debug=!0,this.terminal=e,this.outputChannel=t,this.outputChannel.clear(),this.GDB=new i.GDB(this.outputChannel)}log(e){this.debug&&this.outputChannel.appendLine(e)}error(e){console.error(e),o.workspace.getConfiguration("vgdb").get("showErrorPopup")&&o.window.showErrorMessage(e)}initializeRequest(e,t){return n(this,void 0,void 0,(function*(){this.GDB.on(i.EVENT_ERROR_FATAL,(e=>{this.error("vGDB has encountered a fatal error. Please check the vGDB output channel and create an issue at http://www.github.com/penagos/vgdb/issues"),this.sendEvent(new r.TerminatedEvent)})),this.GDB.on(i.EVENT_OUTPUT,(e=>{this.sendEvent(new r.OutputEvent(e+"\n","console"))})),this.GDB.on(i.EVENT_RUNNING,((e,t)=>{this.sendEvent(new r.ContinuedEvent(e,t))})),this.GDB.on(i.EVENT_BREAKPOINT_HIT,(e=>{this.sendEvent(new r.StoppedEvent("breakpoint",e))})),this.GDB.on(i.EVENT_END_STEPPING_RANGE,(e=>{this.sendEvent(new r.StoppedEvent("step",e))})),this.GDB.on(i.EVENT_FUNCTION_FINISHED,(e=>{this.sendEvent(new r.StoppedEvent("step-out",e))})),this.GDB.on(i.EVENT_EXITED_NORMALLY,(()=>{this.sendEvent(new r.TerminatedEvent)})),this.GDB.on(i.EVENT_SIGNAL,(e=>{this.sendEvent(new r.StoppedEvent("pause",e))})),this.GDB.on(i.EVENT_PAUSED,(()=>{this.sendEvent(new r.StoppedEvent("pause",1))})),this.GDB.on(i.EVENT_ERROR,(e=>{o.workspace.getConfiguration("vgdb").get("showErrorPopup")&&o.window.showErrorMessage(e)})),this.GDB.on(i.EVENT_THREAD_NEW,(e=>{this.sendEvent(new r.ThreadEvent("started",e))})),e.body=e.body||{},e.body.supportsEvaluateForHovers=!0,e.body.supportsSetVariable=!0,e.body.supportsEvaluateForHovers=!0,e.body.supportsConfigurationDoneRequest=!0,this.sendResponse(e),this.sendEvent(new r.InitializedEvent)}))}attachRequest(e,t){return n(this,void 0,void 0,(function*(){this.GDB.setDebug(t.debug||a.OFF),this.GDB.spawn(t,this.terminal).then((()=>{this.sendResponse(e)}))}))}launchRequest(e,t){return n(this,void 0,void 0,(function*(){this.GDB.setDebug(t.debug||a.OFF),this.GDB.spawn(t,this.terminal).then((()=>{void 0!==t.sharedLibraries&&this.GDB.deferLibraryLoading(t.sharedLibraries),this.sendResponse(e)}))}))}configurationDoneRequest(e,t){return n(this,void 0,void 0,(function*(){this.GDB.PID?this.GDB.attachInferior().then((()=>{this.sendResponse(e)})):this.GDB.startInferior().then((()=>{this.sendResponse(e)}))}))}setBreakPointsRequest(e,t){this.GDB.clearBreakpoints().then((()=>{this.GDB.setBreakpoints(t.source.path||"",t.breakpoints||null).then((t=>{e.body={breakpoints:t},this.sendResponse(e)}))}))}threadsRequest(e){this.GDB.getThreads().then((t=>{e.body={threads:t},this.sendResponse(e)}))}stackTraceRequest(e,t){this.GDB.getStack(t.threadId).then((t=>{e.body={stackFrames:t,totalFrames:t.length-1},this.sendResponse(e)}))}scopesRequest(e,t){e.body={scopes:[new r.Scope("Local",i.SCOPE_LOCAL+t.frameId,!1)]},this.sendResponse(e)}variablesRequest(e,t,s){this.GDB.getVars(t.variablesReference-i.SCOPE_LOCAL).then((t=>{const s=[];t.forEach((e=>{"string"==typeof e.value&&(e.value=this.GDB.sanitize(e.value,!1)),s.push(new r.Variable(e.name,e.value))})),e.body={variables:s},this.sendResponse(e)}))}nextRequest(e,t){this.GDB.next(t.threadId).then((()=>{this.sendResponse(e)}))}stepInRequest(e,t){this.GDB.stepIn(t.threadId).then((()=>{this.sendResponse(e)}))}stepOutRequest(e,t){this.GDB.stepOut(t.threadId).then((()=>{this.sendResponse(e)}))}continueRequest(e,t){this.GDB.continue(t.threadId).then((()=>{this.sendResponse(e)}))}evaluateRequest(e,t){switch(t.frameId&&--t.frameId,t.context){case"repl":this.GDB.isStopped()?this.GDB.execUserCmd(t.expression,t.frameId).then((t=>{this.sendResponse(e)})):this.GDB.pause(void 0,!1).then((()=>{this.GDB.execUserCmd(t.expression,t.frameId).then((t=>{this.GDB.continue().then((()=>{this.sendResponse(e)}))}))}));break;case"watch":case"hover":this.GDB.evaluateExpr(t.expression,t.frameId).then((t=>{e.body={result:t,variablesReference:0},this.sendResponse(e)}))}}pauseRequest(e,t){this.GDB.pause(t.threadId).then((()=>{this.sendResponse(e)}))}disconnectRequest(e,t){this.GDB.quit(!0===t.terminateDebuggee),this.sendResponse(e)}setVariableRequest(e,t){this.GDB.updateVar(t.name,t.value).then((()=>{e.body={value:t.value},this.sendResponse(e)}))}}t.GDBDebugSession=u},85:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.activateDbg=void 0;const n=s(496),r=s(263),i=s(808);class o{constructor(e,t){this.terminal=e,this.outputChannel=t}resolveDebugConfiguration(e,t,s){if(!t.type&&!t.request&&!t.name){const e=n.window.activeTextEditor;!e||"cpp"!==e.document.languageId&&"c"!==e.document.languageId||(t.type="vgdb",t.name="Launch",t.request="launch",t.program="a.out",t.stopOnEntry=!0)}this.server||(this.server=i.createServer((e=>{const t=new r.GDBDebugSession(this.terminal,this.outputChannel);t.setRunAsServer(!0),t.start(e,e)})).listen(0));const o=this.server.address();return o&&(t.debugServer=o.port),t}}t.activateDbg=function(e,t){e.subscriptions.push(n.commands.registerCommand("extension.vgdb.getProgramName",(e=>n.window.showInputBox({placeHolder:"Enter the path to the executable to debug",value:"a.out"})))),e.subscriptions.push(n.commands.registerCommand("extension.vgdb.getProgramPID",(e=>n.window.showInputBox({placeHolder:"Enter PID of program to attach to",value:""}))));const s=new o(n.window.createTerminal("vGDB"),n.window.createOutputChannel("vGDB"));e.subscriptions.push(n.debug.registerDebugConfigurationProvider("vgdb",s))}},722:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncRecord=t.AsyncRecordType=void 0;const n=s(398);var r;(r=t.AsyncRecordType||(t.AsyncRecordType={})).EXEC="*",r.STATUS="+",r.NOTIFY="=";class i extends n.Record{constructor(e){super(e)}}t.AsyncRecord=i},897:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MIParser=t.ERROR=t.RUNNING=t.STOPPED=void 0;const n=s(722),r=s(849),i=s(669),o=/^([a-zA-Z_][a-zA-Z0-9_\-]*)/,a=/^\"((\\.|[^"])*)\"/,u=new RegExp("^(?:(\\d*)([\\*\\+\\=])|([\\~\\@\\&]))"),h=new RegExp("^(\\d*)\\^(done|running|connected|error|exit)"),d=/^([_a-zA-Z0-9\-]*)/;t.STOPPED="stopped",t.RUNNING="running",t.ERROR="error";const c='"',l="{",p="[";t.MIParser=class{constructor(){this.buffer="",this.token=0}parse(e){let t;this.buffer=e;try{if(t=this.parseOutOfBandRecord(),t||(t=this.parseResultRecord()),!t&&"(gdb)"==this.buffer.trimRight())return null}catch(e){throw console.error("Parser error: "+e.message),e}return t&&(t.response=e),t}parseToken(e){return""!=e[1]?this.token=parseInt(e[1]):this.token=NaN,this.token}parseOutOfBandRecord(){let e;if(e=u.exec(this.buffer)){if(this.parseToken(e),e[2])return this.parseAsyncRecord();if(e[3])return this.parseStreamRecord();throw new Error("Expected to find AsyncRecord or StreamRecord")}return null}parseAsyncRecord(){let e,t;const s=new n.AsyncRecord(this.token);if(s.setType(this.buffer[0]),this.buffer=this.buffer.substring(this.buffer[0].length),!(e=d.exec(this.buffer)))throw new Error("Failed to parse AsyncRecord");for(s.setClass(e[1]),this.buffer=this.buffer.substring(e[0].length);","==this.buffer[0];)this.buffer=this.buffer.substr(1),(t=this.parseResult())&&s.addResult(t);return s}parseStreamRecord(){return new r.StreamRecord(1)}parseResultRecord(){let e,t;if(e=h.exec(this.buffer)){for(t=new i.ResultRecord(this.parseToken(e)),t.setClass(e[2]),this.buffer=this.buffer.substring(e[0].length);","==this.buffer[0];){this.buffer=this.buffer.substr(1);const e=this.parseResult();e&&t.addResult(e)}return t}return null}parseResult(){let e;return(e=o.exec(this.buffer))?(this.buffer=this.buffer.substring(e[0].length+1),[e[1],this.parseValue()]):null}parseValue(){switch(this.buffer[0]){case c:return this.parseCString();case l:return this.parseTuple();case p:return this.parseList();default:return null}}parseCString(){let e;if(e=a.exec(this.buffer))return this.buffer=this.buffer.substring(e[0].length),e[1];throw new Error("could not parse cstring: "+this.buffer)}parseTuple(){let e;const t={};do{this.buffer=this.buffer.substring(1),(e=this.parseResult())&&(t[e[0]]=e[1])}while(","==this.buffer[0]);return this.buffer=this.buffer.substring(1),t}parseList(){let e;const t=[];if(this.buffer=this.buffer.substring(1),-1!=[c,p,l].indexOf(this.buffer[0]))for(;e=this.parseValue();)this.buffer=this.buffer.substring(1),t.push(e);else for(;e=this.parseResult();)this.buffer=this.buffer.substring(1),t.push(e);return t.length||(this.buffer=this.buffer.substring(1)),t}}},398:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Record=void 0,t.Record=class{constructor(e){this.response="",this.token=e,this.results=new Map}getToken(){return this.token}setType(e){this.type=e}getType(){return this.type}setClass(e){this.klass=e}getClass(){return this.klass}addResult(e){this.results.set(e[0],e[1])}getResult(e){return this.results.get(e)}prettyPrint(){return this.response}}},669:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResultRecord=t.ResultRecordType=void 0;const n=s(398);var r;(r=t.ResultRecordType||(t.ResultRecordType={})).DONE="done",r.RUNNING="running",r.CONNECTED="connected",r.ERROR="error",r.EXIT="exit";class i extends n.Record{constructor(e){super(e)}}t.ResultRecord=i},849:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamRecord=void 0;const n=s(398);var r;!function(e){e.CONSOLE="~",e.TARGET="@",e.LOG="&"}(r||(r={}));class i extends n.Record{constructor(){super(...arguments),this.typeEnum=r}}t.StreamRecord=i},703:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugSession=t.ErrorDestination=t.InvalidatedEvent=t.ProgressEndEvent=t.ProgressUpdateEvent=t.ProgressStartEvent=t.CapabilitiesEvent=t.LoadedSourceEvent=t.ModuleEvent=t.BreakpointEvent=t.ThreadEvent=t.OutputEvent=t.TerminatedEvent=t.InitializedEvent=t.ContinuedEvent=t.StoppedEvent=t.CompletionItem=t.Module=t.Breakpoint=t.Variable=t.Thread=t.StackFrame=t.Scope=t.Source=void 0;const n=s(862),r=s(812),i=s(406),o=s(310);t.Source=class{constructor(e,t,s=0,n,r){this.name=e,this.path=t,this.sourceReference=s,n&&(this.origin=n),r&&(this.adapterData=r)}},t.Scope=class{constructor(e,t,s=!1){this.name=e,this.variablesReference=t,this.expensive=s}},t.StackFrame=class{constructor(e,t,s,n=0,r=0){this.id=e,this.source=s,this.line=n,this.column=r,this.name=t}},t.Thread=class{constructor(e,t){this.id=e,this.name=t||"Thread #"+e}},t.Variable=class{constructor(e,t,s=0,n,r){this.name=e,this.value=t,this.variablesReference=s,"number"==typeof r&&(this.namedVariables=r),"number"==typeof n&&(this.indexedVariables=n)}},t.Breakpoint=class{constructor(e,t,s,n){this.verified=e;const r=this;"number"==typeof t&&(r.line=t),"number"==typeof s&&(r.column=s),n&&(r.source=n)}},t.Module=class{constructor(e,t){this.id=e,this.name=t}},t.CompletionItem=class{constructor(e,t,s=0){this.label=e,this.start=t,this.length=s}};class a extends r.Event{constructor(e,t,s){super("stopped"),this.body={reason:e},"number"==typeof t&&(this.body.threadId=t),"string"==typeof s&&(this.body.text=s)}}t.StoppedEvent=a;class u extends r.Event{constructor(e,t){super("continued"),this.body={threadId:e},"boolean"==typeof t&&(this.body.allThreadsContinued=t)}}t.ContinuedEvent=u;class h extends r.Event{constructor(){super("initialized")}}t.InitializedEvent=h;class d extends r.Event{constructor(e){super("terminated"),("boolean"==typeof e||e)&&(this.body={restart:e})}}t.TerminatedEvent=d;class c extends r.Event{constructor(e,t="console",s){super("output"),this.body={category:t,output:e},void 0!==s&&(this.body.data=s)}}t.OutputEvent=c;class l extends r.Event{constructor(e,t){super("thread"),this.body={reason:e,threadId:t}}}t.ThreadEvent=l;class p extends r.Event{constructor(e,t){super("breakpoint"),this.body={reason:e,breakpoint:t}}}t.BreakpointEvent=p;class g extends r.Event{constructor(e,t){super("module"),this.body={reason:e,module:t}}}t.ModuleEvent=g;class m extends r.Event{constructor(e,t){super("loadedSource"),this.body={reason:e,source:t}}}t.LoadedSourceEvent=m;class b extends r.Event{constructor(e){super("capabilities"),this.body={capabilities:e}}}t.CapabilitiesEvent=b;class f extends r.Event{constructor(e,t,s){super("progressStart"),this.body={progressId:e,title:t},"string"==typeof s&&(this.body.message=s)}}t.ProgressStartEvent=f;class v extends r.Event{constructor(e,t){super("progressUpdate"),this.body={progressId:e},"string"==typeof t&&(this.body.message=t)}}t.ProgressUpdateEvent=v;class E extends r.Event{constructor(e,t){super("progressEnd"),this.body={progressId:e},"string"==typeof t&&(this.body.message=t)}}t.ProgressEndEvent=E;class R extends r.Event{constructor(e,t,s){super("invalidated"),this.body={},e&&(this.body.areas=e),t&&(this.body.threadId=t),s&&(this.body.stackFrameId=s)}}var _;t.InvalidatedEvent=R,function(e){e[e.User=1]="User",e[e.Telemetry=2]="Telemetry"}(_=t.ErrorDestination||(t.ErrorDestination={}));class y extends n.ProtocolServer{constructor(e,t){super();const s="boolean"==typeof e&&e;this._debuggerLinesStartAt1=s,this._debuggerColumnsStartAt1=s,this._debuggerPathsAreURIs=!1,this._clientLinesStartAt1=!0,this._clientColumnsStartAt1=!0,this._clientPathsAreURIs=!1,this._isServer="boolean"==typeof t&&t,this.on("close",(()=>{this.shutdown()})),this.on("error",(e=>{this.shutdown()}))}setDebuggerPathFormat(e){this._debuggerPathsAreURIs="path"!==e}setDebuggerLinesStartAt1(e){this._debuggerLinesStartAt1=e}setDebuggerColumnsStartAt1(e){this._debuggerColumnsStartAt1=e}setRunAsServer(e){this._isServer=e}static run(e){i.runDebugAdapter(e)}shutdown(){this._isServer||this._isRunningInline()||setTimeout((()=>{process.exit(0)}),100)}sendErrorResponse(e,t,s,n,r=_.User){let i;"number"==typeof t?(i={id:t,format:s},n&&(i.variables=n),r&_.User&&(i.showUser=!0),r&_.Telemetry&&(i.sendTelemetry=!0)):i=t,e.success=!1,e.message=y.formatPII(i.format,!0,i.variables),e.body||(e.body={}),e.body.error=i,this.sendResponse(e)}runInTerminalRequest(e,t,s){this.sendRequest("runInTerminal",e,t,s)}dispatchRequest(e){const t=new r.Response(e);try{if("initialize"===e.command){var s=e.arguments;if("boolean"==typeof s.linesStartAt1&&(this._clientLinesStartAt1=s.linesStartAt1),"boolean"==typeof s.columnsStartAt1&&(this._clientColumnsStartAt1=s.columnsStartAt1),"path"!==s.pathFormat)this.sendErrorResponse(t,2018,"debug adapter only supports native paths",null,_.Telemetry);else{const e=t;e.body={},this.initializeRequest(e,s)}}else"launch"===e.command?this.launchRequest(t,e.arguments,e):"attach"===e.command?this.attachRequest(t,e.arguments,e):"disconnect"===e.command?this.disconnectRequest(t,e.arguments,e):"terminate"===e.command?this.terminateRequest(t,e.arguments,e):"restart"===e.command?this.restartRequest(t,e.arguments,e):"setBreakpoints"===e.command?this.setBreakPointsRequest(t,e.arguments,e):"setFunctionBreakpoints"===e.command?this.setFunctionBreakPointsRequest(t,e.arguments,e):"setExceptionBreakpoints"===e.command?this.setExceptionBreakPointsRequest(t,e.arguments,e):"configurationDone"===e.command?this.configurationDoneRequest(t,e.arguments,e):"continue"===e.command?this.continueRequest(t,e.arguments,e):"next"===e.command?this.nextRequest(t,e.arguments,e):"stepIn"===e.command?this.stepInRequest(t,e.arguments,e):"stepOut"===e.command?this.stepOutRequest(t,e.arguments,e):"stepBack"===e.command?this.stepBackRequest(t,e.arguments,e):"reverseContinue"===e.command?this.reverseContinueRequest(t,e.arguments,e):"restartFrame"===e.command?this.restartFrameRequest(t,e.arguments,e):"goto"===e.command?this.gotoRequest(t,e.arguments,e):"pause"===e.command?this.pauseRequest(t,e.arguments,e):"stackTrace"===e.command?this.stackTraceRequest(t,e.arguments,e):"scopes"===e.command?this.scopesRequest(t,e.arguments,e):"variables"===e.command?this.variablesRequest(t,e.arguments,e):"setVariable"===e.command?this.setVariableRequest(t,e.arguments,e):"setExpression"===e.command?this.setExpressionRequest(t,e.arguments,e):"source"===e.command?this.sourceRequest(t,e.arguments,e):"threads"===e.command?this.threadsRequest(t,e):"terminateThreads"===e.command?this.terminateThreadsRequest(t,e.arguments,e):"evaluate"===e.command?this.evaluateRequest(t,e.arguments,e):"stepInTargets"===e.command?this.stepInTargetsRequest(t,e.arguments,e):"gotoTargets"===e.command?this.gotoTargetsRequest(t,e.arguments,e):"completions"===e.command?this.completionsRequest(t,e.arguments,e):"exceptionInfo"===e.command?this.exceptionInfoRequest(t,e.arguments,e):"loadedSources"===e.command?this.loadedSourcesRequest(t,e.arguments,e):"dataBreakpointInfo"===e.command?this.dataBreakpointInfoRequest(t,e.arguments,e):"setDataBreakpoints"===e.command?this.setDataBreakpointsRequest(t,e.arguments,e):"readMemory"===e.command?this.readMemoryRequest(t,e.arguments,e):"writeMemory"===e.command?this.writeMemoryRequest(t,e.arguments,e):"disassemble"===e.command?this.disassembleRequest(t,e.arguments,e):"cancel"===e.command?this.cancelRequest(t,e.arguments,e):"breakpointLocations"===e.command?this.breakpointLocationsRequest(t,e.arguments,e):"setInstructionBreakpoints"===e.command?this.setInstructionBreakpointsRequest(t,e.arguments,e):this.customRequest(e.command,t,e.arguments,e)}catch(e){this.sendErrorResponse(t,1104,"{_stack}",{_exception:e.message,_stack:e.stack},_.Telemetry)}}initializeRequest(e,t){e.body.supportsConditionalBreakpoints=!1,e.body.supportsHitConditionalBreakpoints=!1,e.body.supportsFunctionBreakpoints=!1,e.body.supportsConfigurationDoneRequest=!0,e.body.supportsEvaluateForHovers=!1,e.body.supportsStepBack=!1,e.body.supportsSetVariable=!1,e.body.supportsRestartFrame=!1,e.body.supportsStepInTargetsRequest=!1,e.body.supportsGotoTargetsRequest=!1,e.body.supportsCompletionsRequest=!1,e.body.supportsRestartRequest=!1,e.body.supportsExceptionOptions=!1,e.body.supportsValueFormattingOptions=!1,e.body.supportsExceptionInfoRequest=!1,e.body.supportTerminateDebuggee=!1,e.body.supportsDelayedStackTraceLoading=!1,e.body.supportsLoadedSourcesRequest=!1,e.body.supportsLogPoints=!1,e.body.supportsTerminateThreadsRequest=!1,e.body.supportsSetExpression=!1,e.body.supportsTerminateRequest=!1,e.body.supportsDataBreakpoints=!1,e.body.supportsReadMemoryRequest=!1,e.body.supportsDisassembleRequest=!1,e.body.supportsCancelRequest=!1,e.body.supportsBreakpointLocationsRequest=!1,e.body.supportsClipboardContext=!1,e.body.supportsSteppingGranularity=!1,e.body.supportsInstructionBreakpoints=!1,e.body.supportsExceptionFilterOptions=!1,this.sendResponse(e)}disconnectRequest(e,t,s){this.sendResponse(e),this.shutdown()}launchRequest(e,t,s){this.sendResponse(e)}attachRequest(e,t,s){this.sendResponse(e)}terminateRequest(e,t,s){this.sendResponse(e)}restartRequest(e,t,s){this.sendResponse(e)}setBreakPointsRequest(e,t,s){this.sendResponse(e)}setFunctionBreakPointsRequest(e,t,s){this.sendResponse(e)}setExceptionBreakPointsRequest(e,t,s){this.sendResponse(e)}configurationDoneRequest(e,t,s){this.sendResponse(e)}continueRequest(e,t,s){this.sendResponse(e)}nextRequest(e,t,s){this.sendResponse(e)}stepInRequest(e,t,s){this.sendResponse(e)}stepOutRequest(e,t,s){this.sendResponse(e)}stepBackRequest(e,t,s){this.sendResponse(e)}reverseContinueRequest(e,t,s){this.sendResponse(e)}restartFrameRequest(e,t,s){this.sendResponse(e)}gotoRequest(e,t,s){this.sendResponse(e)}pauseRequest(e,t,s){this.sendResponse(e)}sourceRequest(e,t,s){this.sendResponse(e)}threadsRequest(e,t){this.sendResponse(e)}terminateThreadsRequest(e,t,s){this.sendResponse(e)}stackTraceRequest(e,t,s){this.sendResponse(e)}scopesRequest(e,t,s){this.sendResponse(e)}variablesRequest(e,t,s){this.sendResponse(e)}setVariableRequest(e,t,s){this.sendResponse(e)}setExpressionRequest(e,t,s){this.sendResponse(e)}evaluateRequest(e,t,s){this.sendResponse(e)}stepInTargetsRequest(e,t,s){this.sendResponse(e)}gotoTargetsRequest(e,t,s){this.sendResponse(e)}completionsRequest(e,t,s){this.sendResponse(e)}exceptionInfoRequest(e,t,s){this.sendResponse(e)}loadedSourcesRequest(e,t,s){this.sendResponse(e)}dataBreakpointInfoRequest(e,t,s){this.sendResponse(e)}setDataBreakpointsRequest(e,t,s){this.sendResponse(e)}readMemoryRequest(e,t,s){this.sendResponse(e)}writeMemoryRequest(e,t,s){this.sendResponse(e)}disassembleRequest(e,t,s){this.sendResponse(e)}cancelRequest(e,t,s){this.sendResponse(e)}breakpointLocationsRequest(e,t,s){this.sendResponse(e)}setInstructionBreakpointsRequest(e,t,s){this.sendResponse(e)}customRequest(e,t,s,n){this.sendErrorResponse(t,1014,"unrecognized request",null,_.Telemetry)}convertClientLineToDebugger(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e+1:this._clientLinesStartAt1?e-1:e}convertDebuggerLineToClient(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e-1:this._clientLinesStartAt1?e+1:e}convertClientColumnToDebugger(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e+1:this._clientColumnsStartAt1?e-1:e}convertDebuggerColumnToClient(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e-1:this._clientColumnsStartAt1?e+1:e}convertClientPathToDebugger(e){return this._clientPathsAreURIs!==this._debuggerPathsAreURIs?this._clientPathsAreURIs?y.uri2path(e):y.path2uri(e):e}convertDebuggerPathToClient(e){return this._debuggerPathsAreURIs!==this._clientPathsAreURIs?this._debuggerPathsAreURIs?y.uri2path(e):y.path2uri(e):e}static path2uri(e){"win32"===process.platform&&(/^[A-Z]:/.test(e)&&(e=e[0].toLowerCase()+e.substr(1)),e=e.replace(/\\/g,"/")),e=encodeURI(e);let t=new o.URL("file:");return t.pathname=e,t.toString()}static uri2path(e){let t=new o.URL(e),s=decodeURIComponent(t.pathname);return"win32"===process.platform&&(/^\/[a-zA-Z]:/.test(s)&&(s=s[1].toLowerCase()+s.substr(2)),s=s.replace(/\//g,"\\")),s}static formatPII(e,t,s){return e.replace(y._formatPIIRegexp,(function(e,n){return t&&n.length>0&&"_"!==n[0]?e:s[n]&&s.hasOwnProperty(n)?s[n]:e}))}}t.DebugSession=y,y._formatPIIRegexp=/{([^}]+)}/g},414:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Handles=void 0,t.Handles=class{constructor(e){this.START_HANDLE=1e3,this._handleMap=new Map,this._nextHandle="number"==typeof e?e:this.START_HANDLE}reset(){this._nextHandle=this.START_HANDLE,this._handleMap=new Map}create(e){var t=this._nextHandle++;return this._handleMap.set(t,e),t}get(e,t){return this._handleMap.get(e)||t}}},757:function(e,t,s){"use strict";var n=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))((function(r,i){function o(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.InternalLogger=void 0;const r=s(147),i=s(17),o=s(919),a=s(648);function u(){let e=new Date;return h(2,String(e.getUTCHours()))+":"+h(2,String(e.getUTCMinutes()))+":"+h(2,String(e.getUTCSeconds()))+"."+h(3,String(e.getUTCMilliseconds()))+" UTC"}function h(e,t){return t.length>=e?t:String("0".repeat(e)+t).slice(-e)}t.InternalLogger=class{constructor(e,t){this.beforeExitCallback=()=>this.dispose(),this._logCallback=e,this._logToConsole=t,this._minLogLevel=a.LogLevel.Warn,this.disposeCallback=(e,t)=>{this.dispose(),t=t||2,t+=128,process.exit(t)}}setup(e){return n(this,void 0,void 0,(function*(){if(this._minLogLevel=e.consoleMinLogLevel,this._prependTimestamp=e.prependTimestamp,e.logFilePath)if(i.isAbsolute(e.logFilePath)){const t=t=>this.sendLog(`Error creating log file at path: ${e.logFilePath}. Error: ${t.toString()}\n`,a.LogLevel.Error);try{yield o(i.dirname(e.logFilePath)),this.log("Verbose logs are written to:\n",a.LogLevel.Warn),this.log(e.logFilePath+"\n",a.LogLevel.Warn),this._logFileStream=r.createWriteStream(e.logFilePath),this.logDateTime(),this.setupShutdownListeners(),this._logFileStream.on("error",(e=>{t(e)}))}catch(e){t(e)}}else this.log(`logFilePath must be an absolute path: ${e.logFilePath}`,a.LogLevel.Error)}))}logDateTime(){let e=new Date;const t=e.getUTCFullYear()+"-"+`${e.getUTCMonth()+1}-`+e.getUTCDate()+", "+u();this.log(t+"\n",a.LogLevel.Verbose,!1)}setupShutdownListeners(){process.addListener("beforeExit",this.beforeExitCallback),process.addListener("SIGTERM",this.disposeCallback),process.addListener("SIGINT",this.disposeCallback)}removeShutdownListeners(){process.removeListener("beforeExit",this.beforeExitCallback),process.removeListener("SIGTERM",this.disposeCallback),process.removeListener("SIGINT",this.disposeCallback)}dispose(){return new Promise((e=>{this.removeShutdownListeners(),this._logFileStream?(this._logFileStream.end(e),this._logFileStream=null):e()}))}log(e,t,s=!0){if(this._minLogLevel!==a.LogLevel.Stop){if(t>=this._minLogLevel&&this.sendLog(e,t),this._logToConsole){const s=t===a.LogLevel.Error?console.error:t===a.LogLevel.Warn?console.warn:null;s&&s(a.trimLastNewline(e))}t===a.LogLevel.Error&&(e=`[${a.LogLevel[t]}] ${e}`),this._prependTimestamp&&s&&(e="["+u()+"] "+e),this._logFileStream&&this._logFileStream.write(e)}}sendLog(e,t){if(e.length>1500){const t=!!e.match(/(\n|\r\n)$/);e=e.substr(0,1500)+"[...]",t&&(e+="\n")}if(this._logCallback){const s=new a.LogOutputEvent(e,t);this._logCallback(s)}}}},648:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trimLastNewline=t.LogOutputEvent=t.logger=t.Logger=t.LogLevel=void 0;const n=s(757),r=s(703);var i;!function(e){e[e.Verbose=0]="Verbose",e[e.Log=1]="Log",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Stop=4]="Stop"}(i=t.LogLevel||(t.LogLevel={}));class o{constructor(){this._pendingLogQ=[]}log(e,t=i.Log){e+="\n",this._write(e,t)}verbose(e){this.log(e,i.Verbose)}warn(e){this.log(e,i.Warn)}error(e){this.log(e,i.Error)}dispose(){if(this._currentLogger){const e=this._currentLogger.dispose();return this._currentLogger=null,e}return Promise.resolve()}_write(e,t=i.Log){e+="",this._pendingLogQ?this._pendingLogQ.push({msg:e,level:t}):this._currentLogger&&this._currentLogger.log(e,t)}setup(e,t,s=!0){const n="string"==typeof t?t:t&&this._logFilePathFromInit;if(this._currentLogger){const t={consoleMinLogLevel:e,logFilePath:n,prependTimestamp:s};this._currentLogger.setup(t).then((()=>{if(this._pendingLogQ){const e=this._pendingLogQ;this._pendingLogQ=null,e.forEach((e=>this._write(e.msg,e.level)))}}))}}init(e,t,s){this._pendingLogQ=this._pendingLogQ||[],this._currentLogger=new n.InternalLogger(e,s),this._logFilePathFromInit=t}}t.Logger=o,t.logger=new o;class a extends r.OutputEvent{constructor(e,t){super(e,t===i.Error?"stderr":t===i.Warn?"console":"stdout")}}t.LogOutputEvent=a,t.trimLastNewline=function(e){return e.replace(/(\n|\r\n)$/,"")}},380:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoggingDebugSession=void 0;const n=s(648),r=n.logger,i=s(703);class o extends i.DebugSession{constructor(e,t,s){super(t,s),this.obsolete_logFilePath=e,this.on("error",(e=>{r.error(e.body)}))}start(e,t){super.start(e,t),r.init((e=>this.sendEvent(e)),this.obsolete_logFilePath,this._isServer)}sendEvent(e){if(!(e instanceof n.LogOutputEvent)){let t=e;e instanceof i.OutputEvent&&e.body&&e.body.data&&e.body.data.doNotLogOutput&&(delete e.body.data.doNotLogOutput,t=Object.assign({},e),t.body=Object.assign(Object.assign({},e.body),{output:"<output not logged>"})),r.verbose(`To client: ${JSON.stringify(t)}`)}super.sendEvent(e)}sendRequest(e,t,s,n){r.verbose(`To client: ${JSON.stringify(e)}(${JSON.stringify(t)}), timeout: ${s}`),super.sendRequest(e,t,s,n)}sendResponse(e){r.verbose(`To client: ${JSON.stringify(e)}`),super.sendResponse(e)}dispatchRequest(e){r.verbose(`From client: ${e.command}(${JSON.stringify(e.arguments)})`),super.dispatchRequest(e)}}t.LoggingDebugSession=o},420:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Handles=t.Response=t.Event=t.ErrorDestination=t.CompletionItem=t.Module=t.Source=t.Breakpoint=t.Variable=t.Scope=t.StackFrame=t.Thread=t.InvalidatedEvent=t.ProgressEndEvent=t.ProgressUpdateEvent=t.ProgressStartEvent=t.CapabilitiesEvent=t.LoadedSourceEvent=t.ModuleEvent=t.BreakpointEvent=t.ThreadEvent=t.OutputEvent=t.ContinuedEvent=t.StoppedEvent=t.TerminatedEvent=t.InitializedEvent=t.logger=t.Logger=t.LoggingDebugSession=t.DebugSession=void 0;const n=s(703);Object.defineProperty(t,"DebugSession",{enumerable:!0,get:function(){return n.DebugSession}}),Object.defineProperty(t,"InitializedEvent",{enumerable:!0,get:function(){return n.InitializedEvent}}),Object.defineProperty(t,"TerminatedEvent",{enumerable:!0,get:function(){return n.TerminatedEvent}}),Object.defineProperty(t,"StoppedEvent",{enumerable:!0,get:function(){return n.StoppedEvent}}),Object.defineProperty(t,"ContinuedEvent",{enumerable:!0,get:function(){return n.ContinuedEvent}}),Object.defineProperty(t,"OutputEvent",{enumerable:!0,get:function(){return n.OutputEvent}}),Object.defineProperty(t,"ThreadEvent",{enumerable:!0,get:function(){return n.ThreadEvent}}),Object.defineProperty(t,"BreakpointEvent",{enumerable:!0,get:function(){return n.BreakpointEvent}}),Object.defineProperty(t,"ModuleEvent",{enumerable:!0,get:function(){return n.ModuleEvent}}),Object.defineProperty(t,"LoadedSourceEvent",{enumerable:!0,get:function(){return n.LoadedSourceEvent}}),Object.defineProperty(t,"CapabilitiesEvent",{enumerable:!0,get:function(){return n.CapabilitiesEvent}}),Object.defineProperty(t,"ProgressStartEvent",{enumerable:!0,get:function(){return n.ProgressStartEvent}}),Object.defineProperty(t,"ProgressUpdateEvent",{enumerable:!0,get:function(){return n.ProgressUpdateEvent}}),Object.defineProperty(t,"ProgressEndEvent",{enumerable:!0,get:function(){return n.ProgressEndEvent}}),Object.defineProperty(t,"InvalidatedEvent",{enumerable:!0,get:function(){return n.InvalidatedEvent}}),Object.defineProperty(t,"Thread",{enumerable:!0,get:function(){return n.Thread}}),Object.defineProperty(t,"StackFrame",{enumerable:!0,get:function(){return n.StackFrame}}),Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return n.Scope}}),Object.defineProperty(t,"Variable",{enumerable:!0,get:function(){return n.Variable}}),Object.defineProperty(t,"Breakpoint",{enumerable:!0,get:function(){return n.Breakpoint}}),Object.defineProperty(t,"Source",{enumerable:!0,get:function(){return n.Source}}),Object.defineProperty(t,"Module",{enumerable:!0,get:function(){return n.Module}}),Object.defineProperty(t,"CompletionItem",{enumerable:!0,get:function(){return n.CompletionItem}}),Object.defineProperty(t,"ErrorDestination",{enumerable:!0,get:function(){return n.ErrorDestination}});const r=s(380);Object.defineProperty(t,"LoggingDebugSession",{enumerable:!0,get:function(){return r.LoggingDebugSession}});const i=s(648);t.Logger=i;const o=s(812);Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return o.Event}}),Object.defineProperty(t,"Response",{enumerable:!0,get:function(){return o.Response}});const a=s(414);Object.defineProperty(t,"Handles",{enumerable:!0,get:function(){return a.Handles}});const u=i.logger;t.logger=u},812:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Event=t.Response=t.Message=void 0;class s{constructor(e){this.seq=0,this.type=e}}t.Message=s,t.Response=class extends s{constructor(e,t){super("response"),this.request_seq=e.seq,this.command=e.command,t?(this.success=!1,this.message=t):this.success=!0}},t.Event=class extends s{constructor(e,t){super("event"),this.event=e,t&&(this.body=t)}}},862:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolServer=void 0;const n=s(361),r=s(812);class i{get event(){return this._event||(this._event=(e,t)=>{let s;return this._listener=e,this._this=t,s={dispose:()=>{this._listener=void 0,this._this=void 0}},s}),this._event}fire(e){if(this._listener)try{this._listener.call(this._this,e)}catch(e){}}hasListener(){return!!this._listener}dispose(){this._listener=void 0,this._this=void 0}}class o extends n.EventEmitter{constructor(){super(),this._sendMessage=new i,this._pendingRequests=new Map,this.onDidSendMessage=this._sendMessage.event}dispose(){}handleMessage(e){if("request"===e.type)this.dispatchRequest(e);else if("response"===e.type){const t=e,s=this._pendingRequests.get(t.request_seq);s&&(this._pendingRequests.delete(t.request_seq),s(t))}}_isRunningInline(){return this._sendMessage&&this._sendMessage.hasListener()}start(e,t){this._sequence=1,this._writableStream=t,this._rawData=Buffer.alloc(0),e.on("data",(e=>this._handleData(e))),e.on("close",(()=>{this._emitEvent(new r.Event("close"))})),e.on("error",(e=>{this._emitEvent(new r.Event("error","inStream error: "+(e&&e.message)))})),t.on("error",(e=>{this._emitEvent(new r.Event("error","outStream error: "+(e&&e.message)))})),e.resume()}stop(){this._writableStream&&this._writableStream.end()}sendEvent(e){this._send("event",e)}sendResponse(e){e.seq>0?console.error(`attempt to send more than one response for command ${e.command}`):this._send("response",e)}sendRequest(e,t,s,n){const i={command:e};if(t&&Object.keys(t).length>0&&(i.arguments=t),this._send("request",i),n){this._pendingRequests.set(i.seq,n);const e=setTimeout((()=>{clearTimeout(e);const t=this._pendingRequests.get(i.seq);t&&(this._pendingRequests.delete(i.seq),t(new r.Response(i,"timeout")))}),s)}}dispatchRequest(e){}_emitEvent(e){this.emit(e.event,e)}_send(e,t){if(t.type=e,t.seq=this._sequence++,this._writableStream){const e=JSON.stringify(t);this._writableStream.write(`Content-Length: ${Buffer.byteLength(e,"utf8")}\r\n\r\n${e}`,"utf8")}this._sendMessage.fire(t)}_handleData(e){for(this._rawData=Buffer.concat([this._rawData,e]);;){if(this._contentLength>=0){if(this._rawData.length>=this._contentLength){const e=this._rawData.toString("utf8",0,this._contentLength);if(this._rawData=this._rawData.slice(this._contentLength),this._contentLength=-1,e.length>0)try{let t=JSON.parse(e);this.handleMessage(t)}catch(e){this._emitEvent(new r.Event("error","Error handling data: "+(e&&e.message)))}continue}}else{const e=this._rawData.indexOf(o.TWO_CRLF);if(-1!==e){const t=this._rawData.toString("utf8",0,e).split("\r\n");for(let e=0;e<t.length;e++){const s=t[e].split(/: +/);"Content-Length"==s[0]&&(this._contentLength=+s[1])}this._rawData=this._rawData.slice(e+o.TWO_CRLF.length);continue}}break}}}t.ProtocolServer=o,o.TWO_CRLF="\r\n\r\n"},406:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runDebugAdapter=void 0;const n=s(808);t.runDebugAdapter=function(e){let t=0;if(process.argv.slice(2).forEach((function(e,s,n){const r=/^--server=(\d{4,5})$/.exec(e);r&&(t=parseInt(r[1],10))})),t>0)console.error(`waiting for debug protocol on port ${t}`),n.createServer((t=>{console.error(">> accepted connection from client"),t.on("end",(()=>{console.error(">> client connection closed\n")}));const s=new e(!1,!0);s.setRunAsServer(!0),s.start(t,t)})).listen(t);else{const t=new e(!1);process.on("SIGTERM",(()=>{t.shutdown()})),t.start(process.stdin,process.stdout)}}},919:(e,t,s)=>{const n=s(283),r=s(865),{mkdirpNative:i,mkdirpNativeSync:o}=s(484),{mkdirpManual:a,mkdirpManualSync:u}=s(923),{useNative:h,useNativeSync:d}=s(952),c=(e,t)=>(e=r(e),t=n(t),h(t)?i(e,t):a(e,t));c.sync=(e,t)=>(e=r(e),t=n(t),d(t)?o(e,t):u(e,t)),c.native=(e,t)=>i(r(e),n(t)),c.manual=(e,t)=>a(r(e),n(t)),c.nativeSync=(e,t)=>o(r(e),n(t)),c.manualSync=(e,t)=>u(r(e),n(t)),e.exports=c},588:(e,t,s)=>{const{dirname:n}=s(17),r=(e,t,s)=>s===t?Promise.resolve():e.statAsync(t).then((e=>e.isDirectory()?s:void 0),(s=>"ENOENT"===s.code?r(e,n(t),t):void 0)),i=(e,t,s)=>{if(s!==t)try{return e.statSync(t).isDirectory()?s:void 0}catch(s){return"ENOENT"===s.code?i(e,n(t),t):void 0}};e.exports={findMade:r,findMadeSync:i}},923:(e,t,s)=>{const{dirname:n}=s(17),r=(e,t,s)=>{t.recursive=!1;const i=n(e);return i===e?t.mkdirAsync(e,t).catch((e=>{if("EISDIR"!==e.code)throw e})):t.mkdirAsync(e,t).then((()=>s||e),(n=>{if("ENOENT"===n.code)return r(i,t).then((s=>r(e,t,s)));if("EEXIST"!==n.code&&"EROFS"!==n.code)throw n;return t.statAsync(e).then((e=>{if(e.isDirectory())return s;throw n}),(()=>{throw n}))}))},i=(e,t,s)=>{const r=n(e);if(t.recursive=!1,r===e)try{return t.mkdirSync(e,t)}catch(e){if("EISDIR"!==e.code)throw e;return}try{return t.mkdirSync(e,t),s||e}catch(n){if("ENOENT"===n.code)return i(e,t,i(r,t,s));if("EEXIST"!==n.code&&"EROFS"!==n.code)throw n;try{if(!t.statSync(e).isDirectory())throw n}catch(e){throw n}}};e.exports={mkdirpManual:r,mkdirpManualSync:i}},484:(e,t,s)=>{const{dirname:n}=s(17),{findMade:r,findMadeSync:i}=s(588),{mkdirpManual:o,mkdirpManualSync:a}=s(923);e.exports={mkdirpNative:(e,t)=>(t.recursive=!0,n(e)===e?t.mkdirAsync(e,t):r(t,e).then((s=>t.mkdirAsync(e,t).then((()=>s)).catch((s=>{if("ENOENT"===s.code)return o(e,t);throw s}))))),mkdirpNativeSync:(e,t)=>{if(t.recursive=!0,n(e)===e)return t.mkdirSync(e,t);const s=i(t,e);try{return t.mkdirSync(e,t),s}catch(s){if("ENOENT"===s.code)return a(e,t);throw s}}}},283:(e,t,s)=>{const{promisify:n}=s(837),r=s(147);e.exports=e=>{if(e)if("object"==typeof e)e={mode:511,fs:r,...e};else if("number"==typeof e)e={mode:e,fs:r};else{if("string"!=typeof e)throw new TypeError("invalid options argument");e={mode:parseInt(e,8),fs:r}}else e={mode:511,fs:r};return e.mkdir=e.mkdir||e.fs.mkdir||r.mkdir,e.mkdirAsync=n(e.mkdir),e.stat=e.stat||e.fs.stat||r.stat,e.statAsync=n(e.stat),e.statSync=e.statSync||e.fs.statSync||r.statSync,e.mkdirSync=e.mkdirSync||e.fs.mkdirSync||r.mkdirSync,e}},865:(e,t,s)=>{const n=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:r,parse:i}=s(17);e.exports=e=>{if(/\0/.test(e))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:e,code:"ERR_INVALID_ARG_VALUE"});if(e=r(e),"win32"===n){const t=/[*|"<>?:]/,{root:s}=i(e);if(t.test(e.substr(s.length)))throw Object.assign(new Error("Illegal characters in path."),{path:e,code:"EINVAL"})}return e}},952:(e,t,s)=>{const n=s(147),r=(process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version).replace(/^v/,"").split("."),i=+r[0]>10||10==+r[0]&&+r[1]>=12,o=i?e=>e.mkdir===n.mkdir:()=>!1,a=i?e=>e.mkdirSync===n.mkdirSync:()=>!1;e.exports={useNative:o,useNativeSync:a}},496:e=>{"use strict";e.exports=require("vscode")},81:e=>{"use strict";e.exports=require("child_process")},361:e=>{"use strict";e.exports=require("events")},147:e=>{"use strict";e.exports=require("fs")},808:e=>{"use strict";e.exports=require("net")},17:e=>{"use strict";e.exports=require("path")},781:e=>{"use strict";e.exports=require("stream")},310:e=>{"use strict";e.exports=require("url")},837:e=>{"use strict";e.exports=require("util")}},t={};function s(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,s),i.exports}var n={};(()=>{"use strict";var e=n;Object.defineProperty(e,"__esModule",{value:!0}),e.deactivate=e.activate=void 0;const t=s(85);e.activate=function(e){(0,t.activateDbg)(e)},e.deactivate=function(){}})(),module.exports=n})();
//# sourceMappingURL=extension.js.map